CONF_VERSION = "2"

DISTRO ?= "poky"

USER_CLASSES ?= "buildstats"

PACKAGECONFIG:append:pn-qemu-system-native = " sdl"

# Remote debugging works much better if the binaries are in the rootfs as well.
IMAGE_CLASSES += "image-combined-dbg"
IMAGE_GEN_DEBUGFS = "1"
IMAGE_FSTYPES_DEBUGFS = ""
IMAGE_FEATURES += "ssh-server-openssh"
EXTRA_IMAGE_FEATURES ?= "debug-tweaks"

# Test setup for devtool ide plugin
IMAGE_INSTALL:append = "\
    gdbserver \
    ldd \
    cmake-example \
    meson-example \
"

# clang recipes from meta-clang can provide llvm and related packages too.
# Use it as the provider for llvm and clang to save some compile time and space
PREFERRED_PROVIDER_llvm = "clang"
PREFERRED_PROVIDER_llvm-native = "clang-native"
PREFERRED_PROVIDER_nativesdk-llvm = "nativesdk-clang"
PROVIDES:pn-clang = "llvm"
PROVIDES:pn-clang-native = "llvm-native"
PROVIDES:pn-nativesdk-clang = "nativesdk-llvm"
